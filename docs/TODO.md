# Architecture Quest 開発TODOリスト

## 🎯 プロジェクト概要
レイヤードアーキテクチャを楽しく学べるゲーム「Architecture Quest」の開発タスク管理

## 📅 開発フェーズ

### Phase 1: MVP開発（Week 1-2）

#### Week 1: 基盤構築
- [x] プロジェクト初期セットアップ
  - [x] pnpm初期化
  - [x] モノレポ構造の構築
  - [x] 基本的なpackage.json設定
- [ ] フロントエンド基盤構築
  - [ ] Vite + Vue 3セットアップ
  - [ ] TypeScript設定（strict mode）
  - [ ] Tailwind CSS設定
  - [ ] ルーティング設定
  - [ ] Pinia状態管理設定
- [ ] バックエンド基盤構築
  - [ ] Hono + Bunセットアップ
  - [ ] Prisma設定
  - [ ] データベース接続設定
  - [ ] Redis設定
- [ ] 共有パッケージの作成
  - [ ] shared-domain（エンティティ・値オブジェクト）
  - [ ] shared-types（型定義）
  - [ ] validation-rules（バリデーションロジック）
  - [ ] challenge-spec（課題定義）
  - [ ] game-engine（ゲームコア）
  - [ ] ui-library（共通UIコンポーネント）
- [ ] Docker環境の構築
  - [ ] docker-compose.yml作成
  - [ ] PostgreSQL設定
  - [ ] Redis設定
  - [ ] 開発環境の動作確認

#### Week 2: コア機能実装（TDD）
- [ ] ドメイン層の実装（TDD）
  - [ ] GameSessionエンティティ
  - [ ] LayerStructure値オブジェクト
  - [ ] Score値オブジェクト
  - [ ] ValidationResultエンティティ
  - [ ] ドメインサービス（ArchitectureValidator）
- [ ] アプリケーション層の実装（TDD）
  - [ ] StartGameSessionユースケース
  - [ ] SubmitSolutionユースケース
  - [ ] ValidateDependencyユースケース
  - [ ] DTO定義
- [ ] インフラストラクチャ層の実装
  - [ ] リポジトリ実装
  - [ ] API通信層
  - [ ] ローカルストレージ
  - [ ] Prismaスキーマ定義
- [ ] プレゼンテーション層の実装
  - [ ] LayerViewコンポーネント
  - [ ] CodeBlockコンポーネント
  - [ ] DragDropシステム
  - [ ] Composables実装

### Phase 2: 機能拡張（Week 3-5）

#### Week 3-4: ゲームメカニクス
- [ ] APIエンドポイントの実装（TDD）
  - [ ] セッション管理API
  - [ ] チャレンジ取得API
  - [ ] 解答提出API
  - [ ] バリデーションAPI
- [ ] ゲームエンジン統合（Phaser）
  - [ ] Phaserシーン設定
  - [ ] アニメーション実装
  - [ ] インタラクション実装
- [ ] バリデーションシステムの実装
  - [ ] 依存方向チェック
  - [ ] 循環依存検出
  - [ ] DTOバリデーション
  - [ ] レイヤー配置ルール
- [ ] スコアリングシステムの実装
  - [ ] スコア計算ロジック
  - [ ] ボーナスシステム
  - [ ] タイムペナルティ

#### Week 5: ストーリーモード
- [ ] チュートリアルステージの作成
  - [ ] 基本操作説明
  - [ ] レイヤー概念の説明
  - [ ] 実践課題
- [ ] ストーリーモード第1章
  - [ ] プレゼンテーション層の課題
  - [ ] UI/ビジネスロジック分離
  - [ ] 依存方向の理解
- [ ] 認証システム
  - [ ] JWT実装
  - [ ] ユーザー登録
  - [ ] ログイン機能
  - [ ] セッション管理
- [ ] 進捗保存機能
  - [ ] IndexedDB実装
  - [ ] サーバー同期
  - [ ] オフライン対応

### Phase 3: ポリッシュ（Week 6-7）

#### Week 6: 品質向上
- [ ] CI/CD環境の構築
  - [ ] GitHub Actions設定
  - [ ] 自動テスト実行
  - [ ] カバレッジレポート
  - [ ] デプロイパイプライン
- [ ] E2Eテストの実装
  - [ ] Playwright設定
  - [ ] メインフローテスト
  - [ ] エラーケーステスト
- [ ] パフォーマンス最適化
  - [ ] コード分割
  - [ ] 遅延ローディング
  - [ ] キャッシュ戦略
  - [ ] バンドルサイズ最適化
- [ ] アクセシビリティ対応
  - [ ] キーボード操作
  - [ ] スクリーンリーダー対応
  - [ ] カラーコントラスト調整

#### Week 7: リリース準備
- [ ] UI/UXの改善
  - [ ] レスポンシブデザイン
  - [ ] アニメーション調整
  - [ ] エラーメッセージ改善
  - [ ] ローディング表示
- [ ] コミュニティ機能
  - [ ] ランキングシステム
  - [ ] 実績システム
  - [ ] シェア機能
- [ ] 分析ダッシュボード
  - [ ] 学習進捗グラフ
  - [ ] スキル分析
  - [ ] 弱点分析
- [ ] デプロイ準備
  - [ ] 本番環境設定
  - [ ] SSL証明書設定
  - [ ] CDN設定
  - [ ] モニタリング設定

## 🔧 技術的タスク

### テスト
- [ ] ユニットテストカバレッジ90%以上
- [ ] 統合テストカバレッジ80%以上
- [ ] E2Eテスト主要フロー100%

### ドキュメント
- [ ] API仕様書作成
- [ ] 開発者向けガイド
- [ ] ユーザーマニュアル
- [ ] デプロイメントガイド

### セキュリティ
- [ ] 脆弱性スキャン
- [ ] ペネトレーションテスト
- [ ] OWASP Top 10対策

## 📊 進捗管理

### 完了基準
- ✅ 全テストがパス
- ✅ カバレッジ目標達成
- ✅ パフォーマンス基準クリア
- ✅ アクセシビリティ基準準拠

### リスク管理
- 🔴 高リスク: パフォーマンス問題
- 🟡 中リスク: ブラウザ互換性
- 🟢 低リスク: UIの微調整

## 🎯 マイルストーン

| マイルストーン | 期限 | ステータス |
|--------------|------|-----------|
| MVP完成 | Week 2終了 | 🔄 進行中 |
| 機能完成 | Week 5終了 | ⏳ 未着手 |
| リリース | Week 7終了 | ⏳ 未着手 |

## 📝 メモ

- TDD（テスト駆動開発）を徹底する
- t-wada氏のTDD手法に従う
- レイヤー間の依存関係を常に意識
- コミットは細かく、意味のある単位で

---

最終更新: 2025年1月15日
次回レビュー: Week 1終了時